<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate an adaptive or non-adaptive test HTML interface — mirtCAT • mirtCAT</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate an adaptive or non-adaptive test HTML interface — mirtCAT"><meta name="description" content="Provides tools to generate an HTML interface for creating adaptive and
non-adaptive educational and psychological tests using the shiny package.
Suitable for applying unidimensional and multidimensional computerized adaptive tests
using item response theory methodology. Test scoring is performed using the mirt package.
However, if no scoring is required (i.e., a standard survey) then defining a mirt
object may be omitted."><meta property="og:description" content="Provides tools to generate an HTML interface for creating adaptive and
non-adaptive educational and psychological tests using the shiny package.
Suitable for applying unidimensional and multidimensional computerized adaptive tests
using item response theory methodology. Test scoring is performed using the mirt package.
However, if no scoring is required (i.e., a standard survey) then defining a mirt
object may be omitted."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mirtCAT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.14.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/mirtCAT-vignettes.html">UNKNOWN TITLE</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/philchalmers/mirtCAT/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate an adaptive or non-adaptive test HTML interface</h1>
      <small class="dont-index">Source: <a href="https://github.com/philchalmers/mirtCAT/blob/main/R/mirtCAT.R" class="external-link"><code>R/mirtCAT.R</code></a>, <a href="https://github.com/philchalmers/mirtCAT/blob/main/R/zzz-methods.R" class="external-link"><code>R/zzz-methods.R</code></a></small>
      <div class="d-none name"><code>mirtCAT.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Provides tools to generate an HTML interface for creating adaptive and
non-adaptive educational and psychological tests using the <code><a href="https://rdrr.io/pkg/shiny/man/shiny-package.html" class="external-link">shiny</a></code> package.
Suitable for applying unidimensional and multidimensional computerized adaptive tests
using item response theory methodology. Test scoring is performed using the <code><a href="https://rdrr.io/pkg/mirt/man/mirt.html" class="external-link">mirt</a></code> package.
However, if no scoring is required (i.e., a standard survey) then defining a <code><a href="https://rdrr.io/pkg/mirt/man/mirt.html" class="external-link">mirt</a></code>
object may be omitted.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mirtCAT</span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"MAP"</span>,</span>
<span>  criteria <span class="op">=</span> <span class="st">"seq"</span>,</span>
<span>  start_item <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  local_pattern <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  AnswerFuns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  design_elements <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  primeCluster <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  customTypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  design <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  shinyGUI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  preCAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'mirtCAT'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'mirtCAT'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, sort <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'mirtCAT'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  pick_theta <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  true_thetas <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  SE <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  main <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  par.strip.text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cex <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span>,</span>
<span>  par.settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>strip.background <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"#9ECAE1"</span><span class="op">)</span>, strip.border <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span></span>
<span>    <span class="st">"black"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  scales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rot <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>a <code>data.frame</code> containing the <code>character</code> vector inputs required to generate
  GUI questions through shiny. If <code>factor</code>s are supplied instead of <code>character</code> vectors
  then the inputs will be coerced using the <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> function (set
  <code>stringsAsFactors = FALSE</code> when defining a <code>data.frame</code> to avoid this).
  Each row in the object corresponds to a unique
  item. The object supports the follow column name combinations as inputs to specify the
  type of response format, questions, options, answers, and stems:</p>
<p></p><dl><dt><code>Type</code></dt>
<dd><p>Indicates the type of response input
      to use from the shiny package. The supported types are: <code>'radio'</code> for radio buttons
      (<code><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html" class="external-link">radioButtons</a></code>), <code>'select'</code> for a pull-down box for selecting
      inputs (<code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectInput</a></code>), <code>'rankselect'</code> for a set of pull-down boxes rank-ordering
      inputs (<code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectInput</a></code>) associated with each option supplied,
      <code>'text'</code> and <code>'textArea'</code> for requiring
      typed user input (<code><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></code> and <code><a href="https://rdrr.io/pkg/shiny/man/textAreaInput.html" class="external-link">textAreaInput</a></code>),
      <code>'checkbox'</code> for allowing multiple
      responses to be checked off (<code><a href="https://rdrr.io/pkg/shiny/man/checkboxGroupInput.html" class="external-link">checkboxGroupInput</a></code>),
      <code>'slider'</code> for generating slider inputs (<code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html" class="external-link">sliderInput</a></code>), or
      <code>'none'</code> for presenting only an item stem with no selection options. Note that slider
      inputs require additional arguments to be passed; see <code>...</code> instructions below).</p>
<p>Additionally, if the above types are not sufficient for the desired output then users
      can create their own response formats and inputs via the <code>customTypes</code> list input
      (see below). E.g., if a function with the name <code>'MyTableQuestion'</code> is supplied
      to <code>customTypes</code> then supplying this type to the <code>df</code> will use this function for
      the respective item. Note that this is more advanced and requires a working knowledge of shiny's
      design, inputs, and specifications. This is generally for advanced users
      to use on an as-per-needed basis.</p></dd>


    <dt><code>Question</code></dt>
<dd><p>A character vector containing all the questions or stems to be generated.
      By default these character vectors are passed to <code><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></code>, and therefore allow for
      HTML tags to be included directly. For example, the following example defines two stems,
      where the second uses an emphasis tag to provide italics.</p>
<p><code>Question = c('This is the first item stem.', 'This is the &lt;em&gt;second&lt;/em&gt; item stem.'))</code></p>
<p>Alternatively, if tag constructor function are preferred these need only be wrapped within
      a final call to <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></code> to coerce the shiny.tag expressions into suitable
      character vectors of HTML code. For example, the above could be expressed as</p>
<p><code>Question = c('This is the first item stem.',
         as.character(div('This is the', em('second'), 'item stem.')))</code></p>
<p>Moreover, because this input must be a character vector, the use of <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></code> in
      concert with <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></code> can apply this conversion to all elements (often
      redundantly). Here's an example of this format:</p>
<p></p><div class="sourceCode"><pre><code><span></span>
<span>                    <span class="va">Question</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">'This is the first item stem.'</span>,</span>
<span>                        <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span><span class="st">'This is the'</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">em</a></span><span class="op">(</span><span class="st">'second'</span><span class="op">)</span>, <span class="st">'item stem.'</span><span class="op">)</span>,</span>
<span>                        <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span><span class="st">'This is the'</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">strong</a></span><span class="op">(</span><span class="st">'third'</span><span class="op">)</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">br</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">br</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">'item stem.'</span><span class="op">)</span>,</span>
<span>                        <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span><span class="st">'Fourth with some code:'</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">code</a></span><span class="op">(</span><span class="st">'obj &lt;- 42'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    <span class="va">as.character</span><span class="op">)</span></span>
<span>       </span></code></pre></div><p></p></dd>



    <dt><code>Option.#</code></dt>
<dd><p>Names pertaining to the possible response
      options for each item, where the # corresponds to the specific category. For
      instance, a test with 4 unique response options for each item would contain
      the columns (<code>Option.1</code>, <code>Option.2</code>, <code>Option.3</code>, <code>Option.4</code>).
      If, however, some items have fewer categories than others then <code>NA</code>'s can be used for response
      options that do not apply.</p></dd>


    <dt><code>Answer</code> or <code>Answer.#</code></dt>
<dd><p>(Optional) A character vector (or multiple character
      vectors) indicating the scoring key for items that have correct answer(s). If there
      is no correct answer for a question then a value of <code>NA</code> must be declared.</p>
<p>Note that 'scoring' some item response data can be ambiguous depending on the stimuli provided, which
      requires greater attention. For example, when using <code>'rankselect'</code>: should partial scoring
      be used if the ranks are mostly correct; should partial scoring be used if the response are
      only off by a ranking constant (e.g., correct rank is 1-2-3-4-5, but the respondent ranks 2-3-4-5-1, in which
      case four relative rankings are correct but 1 is incorrect); should a 0-1 scoring be used to indicate none-all correct?.
      When this type of ambiguity exists in the multiple-answers cases it is strongly recommended
      to use the <code>AnswerFuns</code> argument instead for better functional control</p></dd>


   <dt><code>Forced</code></dt>
<dd><p>(Optional) logical vector indicating whether the respondent is
     forced (<code>TRUE</code>) or not (<code>FALSE</code>) to include a response for the respective item.
     If omitted from the <code>df</code> definition this will be automatically set to <code>TRUE</code>
     for each item. For surveys, it is generally recommended to set this to <code>FALSE</code> to
     allow respondents the ability to not answer questions they may be uncomfortable answering</p></dd>


    <dt><code>Stem</code></dt>
<dd><p>(Optional) a character vector of absolute or relative paths
      pointing external markdown (.md) or HTML (.html) files to be used as item stems.
      <code>NA</code>s are used if the item has no corresponding file.</p></dd>


    <dt><code>Timer</code></dt>
<dd><p>(Optional) a numeric vector indicating a time limit (in seconds)
      for each respective item. If a response is not provided before this limit then the question
      will automatically advance to the next selected item. The values <code>NA</code> and <code>Inf</code>
      indicate no time limit for the respective items. Note that this option can only be used
      when <code>df$Forced = TRUE</code></p></dd>


    <dt><code>Mastery</code></dt>
<dd><p>(Optional) a logical vector indicating whether the item must be mastered
      prior to continuing. Naturally, this requires that one or more <code>Answers</code> are provided,
      or suitable functions for scoring are supplied</p></dd>


    <dt><code>HTMLOptions</code></dt>
<dd><p>(Optional) a logical vector indicating whether the respective
      <code>Option.#</code> terms should be wrapped within an <code><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></code> function and rendered
       for suitable shiny inputs (e.g., radio buttons). This is a short-hand wrapper to the more
       flexible <code>choiceNames</code> approach, which can be used to wrap option inputs with alternative
       functions.</p></dd>


    <dt><code>...</code></dt>
<dd><p>In cases where <code>'slider'</code> inputs are used instead only
      the <code>Question</code> input is required along with (at minimum) a
      <code>min</code>, <code>max</code>, and <code>step</code> column. In rows where the <code>Type == 'slider'</code> the
      column names will correspond to the input arguments to <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html" class="external-link">sliderInput</a></code>.
      Other input column options such as <code>step</code>, <code>round</code>, <code>pre</code>, <code>post</code>,
      <code>ticks</code>, <code>inline</code>, <code>placeholder</code>, <code>width</code>, and <code>size</code>
      are also supported for the respective input types.</p></dd>



</dl></dd>


<dt id="arg-mo">mo<a class="anchor" aria-label="anchor" href="#arg-mo"></a></dt>
<dd><p>single group object defined by the <code><a href="https://rdrr.io/pkg/mirt/man/mirt.html" class="external-link">mirt::mirt()</a></code> function. This is required
if the test is to be scored adaptively or non-adaptively, but not required for general
questionnaires. The object can be constructed by using the
<code><a href="generate.mirt_object.html">generate.mirt_object</a></code> function if population parameters are known or by
including a calibrated model estimated from the <code><a href="https://rdrr.io/pkg/mirt/man/mirt.html" class="external-link">mirt</a></code> function with real data.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>argument passed to <code><a href="https://rdrr.io/pkg/mirt/man/fscores.html" class="external-link">mirt::fscores()</a></code> for computing new scores in the CAT
stage, with the addition of a <code>'fixed'</code> input to keep the latent trait estimates
fixed at the previous values. When <code>method = 'ML'</code>, if there is no variability
in the given response pattern during the CAT (i.e., the participant is responding completely
correctly or completely incorrectly) then the method will temporarily be set to MAP until
sufficient response variability is present. Default is 'MAP'</p></dd>


<dt id="arg-criteria">criteria<a class="anchor" aria-label="anchor" href="#arg-criteria"></a></dt>
<dd><p>adaptive criteria used, default is to administer each item sequentially
  using <code>criteria = 'seq'</code>.</p>
<p>Possible inputs for unidimensional adaptive tests include: <code>'MI'</code> for the maximum
  information, <code>'MEPV'</code> for minimum expected posterior variance,
  <code>'MLWI'</code> for maximum likelihood weighted information,
  <code>'MPWI'</code> for maximum posterior weighted information, <code>'MEI'</code> for
  maximum expected information, and <code>'IKLP'</code> as well as <code>'IKL'</code> for the
  integration based Kullback-Leibler criteria with and without the prior density weight,
  respectively, and their root-n items administered weighted counter-parts, <code>'IKLn'</code> and
  <code>'IKLPn'</code>.</p>
<p>Possible inputs for multidimensional adaptive tests include: <code>'Drule'</code>
  for the maximum determinant of the information matrix, <code>'Trule'</code> for the
  maximum (potentially weighted) trace of the information matrix,
  <code>'Arule'</code> for the minimum (potentially weighted) trace of the asymptotic covariance matrix,
  <code>'Erule'</code> for the  minimum value of the information matrix, and <code>'Wrule'</code> for
  the weighted information criteria. For each of these rules, the posterior weight for
  the latent trait scores can also be included with the <code>'DPrule'</code>, <code>'TPrule'</code>,
  <code>'APrule'</code>, <code>'EPrule'</code>, and <code>'WPrule'</code>, respectively.</p>
<p>Applicable to both unidimensional and multidimensional tests are the
  <code>'KL'</code> and <code>'KLn'</code> for point-wise Kullback-Leibler divergence and
  point-wise Kullback-Leibler with a decreasing delta value (<code>delta*sqrt(n)</code>,
  where <code>n</code> is the number of items previous answered), respectively.
  The <code>delta</code> criteria is defined in the <code>design</code> object</p>
<p>Non-adaptive methods applicable even when no <code>mo</code> object is passed
  are: <code>'random'</code> to randomly select items, and <code>'seq'</code> for selecting
  items sequentially.</p></dd>


<dt id="arg-start-item">start_item<a class="anchor" aria-label="anchor" href="#arg-start-item"></a></dt>
<dd><p>two possible inputs to determine the starting item are available.
Passing a number will indicate the specific item to be used as the start item;
default is 1, which selects the first item in the defined test/survey.
If a character string is passed then the item will be selected from one of
the item selections criteria available (see the <code>criteria</code> argument). For off-line
runs where a <code>local_pattern</code> input is used then a vector of numbers/characters
may be supplied and will be associated with each row response vector</p></dd>


<dt id="arg-local-pattern">local_pattern<a class="anchor" aria-label="anchor" href="#arg-local-pattern"></a></dt>
<dd><p>a character/numeric matrix of response patterns
used to run the CAT application without generating the GUI interface.
This option requires complete response pattern(s) to be supplied. <code>local_pattern</code>
is required to be numeric if no <code>questions</code> are supplied, and the responses must be
within a valid range of the defined <code>mo</code> object.
Otherwise, it must contain character values of plausible responses which corresponds to the
answer key and/or options supplied in <code>df</code>. If the object contains an attribute <code>'Theta'</code>
then these values will be stored within the respective returned objects.
See <code><a href="generate_pattern.html">generate_pattern</a></code> to generate response patterns for Monte Carlo simulations</p></dd>


<dt id="arg-answerfuns">AnswerFuns<a class="anchor" aria-label="anchor" href="#arg-answerfuns"></a></dt>
<dd><p>a list with the length equal to the number of items in the item bank consisting
of user-defined functions. These functions are used to determine whether a given
response obtained from the GUI is 'correct' or 'incorrect' by returning a logical scalar value,
while <code>NA</code>'s must be used to indicate <code>AnswerFuns</code> should not be used for a given item. Note
that <code>AnswerFuns</code> is given priority over the answers provided by <code>df</code>, therefore any answers
provided by <code>df</code> will be entirely ignored.</p>
<p>For example, the following provides a customized response function for the first item.</p><div class="sourceCode"><pre><code><span></span>
<span>   <span class="va">AnswerFuns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="va">AnswerFuns</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span><span class="op">)</span> <span class="va">input</span> <span class="op">==</span> <span class="st">'10'</span> <span class="op">||</span> <span class="fu">to.lower</span><span class="op">(</span><span class="va">input</span><span class="op">)</span> <span class="op">==</span> <span class="st">'ten'</span></span></code></pre></div></dd>


<dt id="arg-design-elements">design_elements<a class="anchor" aria-label="anchor" href="#arg-design-elements"></a></dt>
<dd><p>logical; return an object containing the test, person, and design
elements? Primarily this is to be used with the <code><a href="findNextItem.html">findNextItem</a></code> function</p></dd>


<dt id="arg-cl">cl<a class="anchor" aria-label="anchor" href="#arg-cl"></a></dt>
<dd><p>an object definition to be passed to the parallel package
(see <code><a href="https://rdrr.io/r/parallel/clusterApply.html" class="external-link">?parallel::parLapply</a></code> for details). If defined, and if
<code>nrow(local_pattern) &gt; 1</code>, then each row will be run in parallel to help
decrease estimation times in simulation work</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>logical; print a progress bar to the console
with the <code>pbapply</code> package for given response patterns? Useful for
gauging how long Monte Carlo simulations will take to finish</p></dd>


<dt id="arg-primecluster">primeCluster<a class="anchor" aria-label="anchor" href="#arg-primecluster"></a></dt>
<dd><p>logical; when a <code>cl</code> object is supplied, should the cluster be primed
first before running the simulations in parallel? Setting to <code>TRUE</code> will ensure that
using the cluster will be optimal every time a new <code>cl</code> is defined. Default is <code>TRUE</code></p></dd>


<dt id="arg-customtypes">customTypes<a class="anchor" aria-label="anchor" href="#arg-customtypes"></a></dt>
<dd><p>an optional list input containing functions for Designing Original Graphical Stimuli (DOGS).
DOGS elements in the input list must contain a unique name, and the item with which it is associated must be
declared in the a <code>df$Type</code> input. The functions defined must be of the form</p>
<div class="sourceCode"><pre><code><span><span class="va">myDOGS</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">inputId</span>, <span class="va">df_row</span><span class="op">)</span> <span class="va">...</span></span></code></pre></div>

<p>and must return, at the very minimum, an associated <code>shiny</code> input object that makes use of the
<code>inputId</code> argument (e.g., <code><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html" class="external-link">radioButtons</a></code>). Any valid shiny object can be returned,
including lists of shiny objects. As well, the <code>df_row</code> argument contains
any extra information the users wishes to obtain from the associated row in the <code>df</code> object.</p>
<p>The following is a simple example of DOGS for a true-false question and how it is passed:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">good_dogs</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">inputId</span>, <span class="va">df_row</span><span class="op">)</span><span class="op">{</span></span>
<span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h2</a></span><span class="op">(</span><span class="st">'This statement is false'</span><span class="op">)</span>,</span>
<span>               <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html" class="external-link">radioButtons</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="va">inputId</span>, label<span class="op">=</span><span class="st">''</span>,</span>
<span>                            choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'True'</span>, <span class="st">'False'</span><span class="op">)</span>, selected <span class="op">=</span> <span class="st">''</span><span class="op">)</span></span>
<span>        <span class="op">)</span><span class="op">)</span></span>
<span>   <span class="op">}</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Question <span class="op">=</span> <span class="st">''</span>, <span class="va">...</span>, Type <span class="op">=</span> <span class="st">'Doug'</span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mirtCAT.html">mirtCAT</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">df</span>, customTypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Doug <span class="op">=</span> <span class="va">good_dogs</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

<p><em>IMPORTANT</em>: When using the custom inputs the select defined <code>Type</code> must be unique,
even when the function defined (e.g., <code>good_dog</code> above) is recycled. Hence, if two items
were to use the <code>good_dog</code> function then <code>df</code> should be defined as something like
<code>df$Type &lt;- c('Doug1', 'Doug2')</code> with the associated
<code>customTypes = list(Doug1=good_dog, Doug2=good_dog)</code></p></dd>


<dt id="arg-design">design<a class="anchor" aria-label="anchor" href="#arg-design"></a></dt>
<dd><p>a list of design based control parameters for adaptive and non-adaptive tests.
  These can be</p>
<dl><dt><code>min_SEM</code></dt>
<dd><p>Default is <code>rep(0.3, nfact)</code>; minimum standard error or measurement
    to be reached for the latent traits (thetas) before the test is stopped. If the test is
    multidimensional, either a single value or a vector of values may be supplied to provide
    SEM criteria values for each dimension</p></dd>


  <dt><code>delta_thetas</code></dt>
<dd><p>Default is <code>rep(0, nfact)</code>; stopping criteria based on the change in latent
    trait values (e.g., a change from <code>theta = 1.5</code> to <code>theta = 1.54</code> would
    stop the CAT if <code>delta_thetas = 0.05</code>). The default disables this stopping criteria</p></dd>


  <dt><code>thetas.start</code></dt>
<dd><p>a numeric vector of starting values for the theta parameters
     (default is <code>rep(0, nfact)</code>) or an <code>matrix</code> with N rows and nfact columns, where N
     is equal to <code>nrow(local_pattern)</code></p></dd>


  <dt><code>min_items</code></dt>
<dd><p>minimum number of items that must be answered
    before the test is stopped. Default is <code>1</code></p></dd>


  <dt><code>max_items</code></dt>
<dd><p>maximum number of items that
    can be answered. Default is the length of the item bank</p></dd>


  <dt><code>max_time</code></dt>
<dd><p>maximum time allowed for the generated GUI, measured
    in seconds. For instance, if the test should stop after 10 minutes then the number
    600 should be passed (10 * 60). Default is <code>Inf</code>, therefore no time limit</p></dd>


  <dt><code>quadpts</code></dt>
<dd><p>Number of quadrature points used per dimension
    for integration (if required). Default is identical to scheme in <code><a href="https://rdrr.io/pkg/mirt/man/fscores.html" class="external-link">fscores</a></code></p></dd>


  <dt><code>theta_range</code></dt>
<dd><p>upper and lower range for the theta
    integration grid. Used in conjunction with <code>quadpts</code> to generate an equally spaced
    quadrature grid. Default is <code>c(-6,6)</code></p></dd>


  <dt><code>allow_constrain_breaks</code></dt>
<dd><p>logical; should the test be allowed to terminate in
    the middle of administering the items in an (un)ordered testlet set specified in
    <code>constraints</code>? Default is <code>FALSE</code></p></dd>


  <dt><code>weights</code></dt>
<dd><p>weights used when <code>criteria == 'Wrule'</code>, but also
    will be applied for weighted trace functions in the T- and A-rules. The default
    weights the latent dimensions equally. Default is <code>rep(1, nfact)</code>,
    where <code>nfact</code> is the number of test dimensions</p></dd>


  <dt><code>KL_delta</code></dt>
<dd><p>interval range used when <code>criteria = 'KL'</code>
    or <code>criteria = 'KLn'</code>. Default is <code>0.1</code></p></dd>


  <dt><code>content</code></dt>
<dd><p>an optional character vector indicating the type of content measured
    by an item. Must be supplied in conjunction with <code>content_prop</code></p></dd>


  <dt><code>content_prop</code></dt>
<dd><p>an optional named numeric vector indicating the
    distribution of item content proportions. A <code>content</code> vector must also be supplied
    to indicate the item content membership. For instance, if <code>content</code> contains three
    possible item content domains 'Addition', 'Subtraction', and 'Multiplication', and the
    test should contain approximately half multiplication and a quarter of both
    addition and subtraction, then a suitable input would be</p>
<p><code>content_prop = c('Addition'=0.25, 'Subtraction'=0.25, 'Multiplication'=.5)</code></p>
<p>Note that <code>content_prop</code> must sum to 1 in order to represent valid population
    proportions.</p></dd>


  <dt><code>classify</code></dt>
<dd><p>a numeric vector indicating cut-off value(s) for classification
    above or below some prior threshold. Default does not use the classification scheme</p></dd>


  <dt><code>classify_CI</code></dt>
<dd><p>a numeric vector indicating the confident intervals used to
    classify individuals being above or below values in <code>classify</code>. Values must
    be between 0 and 1 (e.g., 0.95 gives 95% confidence interval)</p></dd>


  <dt><code>sprt_lower</code></dt>
<dd><p>a numeric vector indicating lower cut-off value(s) for classification
    above or below some prior threshold using the sequential probability ratio test.
    Default does not use the classification scheme</p></dd>


  <dt><code>sprt_upper</code></dt>
<dd><p>a numeric vector indicating upper cut-off value(s) for classification
    above or below some prior threshold using the sequential probability ratio test.
    Default does not use the classification scheme</p></dd>


  <dt><code>sprt_alpha</code></dt>
<dd><p>a numeric vector indicating the lower-bound error rate
    to use for SPRT. Default is .05</p></dd>


  <dt><code>sprt_beta</code></dt>
<dd><p>a numeric vector indicating the upper-bound error rate
    to use for SPRT. Default is .05</p></dd>


  <dt><code>exposure</code></dt>
<dd><p>a numeric vector specifying the amount of exposure control to apply for
    each successive item (length must equal the number of items). Note that this includes the
    first item as well when a selection criteria is specified, therefore if a specific first
    item should be used then the first element to <code>exposure</code> should be 1.
    The default uses no exposure control.</p>
<p>If the item exposure
    is greater than 1 then the <code>n</code> most optimal
    criteria will be randomly sampled from. For instance, if
    <code>exposure[5] == 3</code>, and <code>criteria = 'MI'</code>, then when the fifth item is to be
    selected from the remaining pool of items the top 3 candidate items demonstrating
    the largest information criteria will be sampled from. Naturally, the first and last
    elements of <code>exposure</code> are ignored since exposure control will be meaningless.</p>
<p>If all elements in <code>exposure</code> are between 0 and 1 then the Sympson-Hetter exposure
    control method will be implemented. In this method, an item is administered only if it
    passes a probability simulation experiment; otherwise, it is removed from the item pool.
    Values closer to 1 are more likely to appear in the test, while value closer to 0 are more
    likely to be randomly discarded.</p></dd>


  <dt><code>constraints</code></dt>
<dd><p>A named list declaring various item selection constraints for which
    particular item, where each list element is a vector of item numbers. Unless otherwise stated,
    multiple elements can be declared (e.g., <code>list(ordered = c(1:5), ordered = c(7:9))</code> is
    perfectly acceptable). These include:</p>
<p></p><dl><dt><code>not_scored</code></dt>
<dd><p>declaring items that can be selected but will not be used in the
           scoring of the CAT. This is primarily useful when including experimental items for
           future CATs. Only one vector of <code>not_scored</code> elements can be supplied</p></dd>

         <dt><code>excluded</code></dt>
<dd><p>items which should not actually appear in the session
           (useful when re-testing participants who have already seen some of the items).
           Only one vector of <code>excluded</code> elements can be supplied</p></dd>

         <dt><code>independent</code></dt>
<dd><p>declaring which items should never appear in the same CAT session.
           Use this if, for example, item 1 and item 10 have very similar questions
           types and therefore should not appear within the same session</p></dd>

         <dt><code>ordered</code></dt>
<dd><p>if one item is selected during the CAT, administer this
           particular group of items in order according to the specified sequence</p></dd>

         <dt><code>unordered</code></dt>
<dd><p>same as ordered, except the items in the group will be selected at
           random until the group is complete</p></dd>


</dl><p></p></dd>


  <dt><code>customUpdateThetas</code></dt>
<dd><p>a more advanced function of the form
    <code>customUpdateThetas &lt;- function(design, person, test)</code>
    to update the ability/latent trait estimates throughout the CAT (or more generally, scoring) session.
    The <code>design</code>, <code>person</code>, and <code>test</code> are the same as in
    <code>customNextItem</code>.
    The latent trait terms are updated directly in the <code>person</code> object, which is a
    <code>ReferenceClasses</code> type, and therefore direct assignment to the object will modify the internal
    elements. Hence, to avoid manual modification users can pass the latent trait estimates and their
    respective standard errors to the associated <code>person$Update_thetas(theta, theta_SE)</code> function.
    Note that the <code><a href="https://rdrr.io/pkg/mirt/man/fscores.html" class="external-link">fscores()</a></code> function can be useful here
    to capitalize on the estimation algorithms implemented in <code>mirt</code>.</p>
<p>For example, a minimal working function would look like the following (note the use of <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code> to
    append the history terms in the <code>person</code> object):</p>
<p></p><div class="sourceCode"><pre><code><span></span>
<span>       <span class="va">myfun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">design</span>, <span class="va">person</span>, <span class="va">test</span><span class="op">)</span><span class="op">{</span></span>
<span>           <span class="va">mo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract.mirtCAT.html">extract.mirtCAT</a></span><span class="op">(</span><span class="va">test</span>, <span class="st">'mo'</span><span class="op">)</span></span>
<span>           <span class="va">responses</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract.mirtCAT.html">extract.mirtCAT</a></span><span class="op">(</span><span class="va">person</span>, <span class="st">'responses'</span><span class="op">)</span></span>
<span>           <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mirt/man/fscores.html" class="external-link">fscores</a></span><span class="op">(</span><span class="va">mo</span>, response.pattern <span class="op">=</span> <span class="va">responses</span><span class="op">)</span></span>
<span>           <span class="va">person</span><span class="op">$</span><span class="fu">Update_thetas</span><span class="op">(</span><span class="va">tmp</span><span class="op">[</span>,<span class="st">'F1'</span><span class="op">]</span>,</span>
<span>                                <span class="va">tmp</span><span class="op">[</span>,<span class="st">'SE_F1'</span>, drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span><span class="op">)</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>    </span></code></pre></div>

<p></p></dd>


  <dt><code>customNextItem</code></dt>
<dd><p>a more advanced function of the form
    <code>customNextItem &lt;- function(design, person, test)</code> to use a customized item selection
    method. This requires more complex programming and understanding of <code>mirtCAT</code>s internal elements,
    and it's recommended to initially use a <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser</a></code> to understand the state
    of the input arguments. When defined, all but the <code>not_scored</code> input
    to the optional <code>constraints</code> list will be ignored.</p>
<p>Use this if you wish to program your item selection techniques explicitly, though this
    can be combined the internal <code><a href="findNextItem.html">findNextItem</a></code> function with analogous inputs.
    Function must return a single integer value
    indicating the next item to administer or an <code>NA</code> value to indicate that the test
    should be terminated. See <code><a href="extract.mirtCAT.html">extract.mirtCAT</a></code> for details on how to extract and manipulate
    various internal elements from the required functional arguments</p></dd>


  <dt><code>constr_fun</code></dt>
<dd><p>(WARNING: supplying this function will disable a number of the heuristic
    item selection constraints in the <code>constraints</code> list as a consequence; namely, all list options
    except for <code>"not_scored"</code>).</p>
<p>This argument contains an optional user-defined function of the form <code>function(design, person, test)</code>
    that returns a <code>data.frame</code> containing the left hand side, relationship, and right hand side
    of the constraints for <code><a href="https://rdrr.io/pkg/lpSolve/man/lp.html" class="external-link">lp</a></code>.
    Each row corresponds to a constraint, while the number of columns should be
    equal to the number of items plus 2. Note that the column names of the
    returned <code>data.frame</code> object do not matter.</p>
<p>For example, say that for a given test the user wants to add
    the constraint that exactly 10 items
    should be administered to all participants, and that items 1 and 2 should not
    be included in the same test. The input would then be defined as</p><div class="sourceCode"><pre><code><span><span class="va">const_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">design</span>, <span class="va">person</span>, <span class="va">test</span><span class="op">)</span><span class="op">{</span></span>
<span>       <span class="va">nitems</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mirt/man/extract.mirt.html" class="external-link">extract.mirt</a></span><span class="op">(</span><span class="va">test</span><span class="op">@</span><span class="va">mo</span>, <span class="st">'nitems'</span><span class="op">)</span></span>
<span>       <span class="va">lhs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="va">nitems</span><span class="op">)</span></span>
<span>       <span class="va">lhs</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>       <span class="va">lhs</span><span class="op">[</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>item<span class="op">=</span><span class="va">lhs</span>, relation<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"=="</span>, <span class="st">"&lt;="</span><span class="op">)</span>, value<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>     <span class="op">}</span></span></code></pre></div><p>The definition above corresponds to the constraints <code>1 * x1 + 1 * x2 + ... + 1 * xn = 10</code>
    and <code>1 * x1 + 1 * x2 + 0 * x3 + ... + 0 * xn &lt;= 1</code> , where
    the <code>x</code> terms represent binary indicators for each respective item which the optimizer
    is searching through. Given some objective vector supplied to <code><a href="findNextItem.html">findNextItem</a></code>,
    the most optimal 10 items will be selected which satisfy these two constraints, meaning that
    1) exactly 10 items will be administered, and 2) if either item 1 or 2 were
    selected these two items would never appear in the same test form (though neither is forced to
    appear in any given test).
    See <code><a href="findNextItem.html">findNextItem</a></code> for further details and examples</p></dd>


  <dt><code>test_properties</code></dt>
<dd><p>a user-defined <code>data.frame</code> object to be used
    with a supplied <code>customNextItem</code> function. This should be used to define particular
    properties inherent to the test items (e.g., whether they are experimental, have a particular
    weighting scheme, should only be used for one particular group of individuals, and so on).
    The number of rows must be equal to the number of items in the item bank, and each row
    corresponds to the respective item. This input appears within the internal <code>design</code> object
    in a <code>test_properties</code> slot.</p></dd>


  <dt><code>person_properties</code></dt>
<dd><p>a user-defined <code>data.frame</code> object to be used
    with a supplied <code>customNextItem</code> function. This should be used to define particular
    properties inherent to the individuals participants (e.g., known grouping variable, age,
    whether they've taken the test before (and which items they took), and so on).
    In off-line simulations, the number of rows must be equal to the number of participants.
    This input appears within the internal <code>design</code> object in a <code>person_properties</code> slot;
    for Monte Carlo simulations, rows should be manually indexed using the <code>person$ID</code> slot.</p></dd>



</dl></dd>


<dt id="arg-shinygui">shinyGUI<a class="anchor" aria-label="anchor" href="#arg-shinygui"></a></dt>
<dd><p>a list of GUI based parameters to be over-written. These can be</p>
<dl><dt><code>title</code></dt>
<dd><p>A character string for the test title. Default is
    <code>'mirtCAT'</code></p></dd>


  <dt><code>authors</code></dt>
<dd><p>A character string for the author names. Default is
    <code>'Author of survey'</code>. If the input is an empty string (<code>''</code>) then the author
    information will be omitted in the GUI</p></dd>


  <dt><code>instructions</code></dt>
<dd><p>A two part character vector indicating how to use the GUI.
    Default is:</p>
<p></p><div class="sourceCode"><pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"To progress through the interface, click on the action button below."</span>,</span>
<span>       <span class="st">"Next"</span><span class="op">)</span></span></code></pre></div>

<p>The second part of the character vector provides the name for the action button.</p></dd>


  <dt><code>itemtimer</code></dt>
<dd><p>A character string to display the item-timer clock. Default is
    <code>'Item timer: '</code></p></dd>


  <dt><code>incorrect</code></dt>
<dd><p>A character string to display in case of a failed response. Default is
    <code>'The answer provided was incorrect. Please select an alternative.'</code></p></dd>


  <dt><code>failpass</code></dt>
<dd><p>A character string to display in case of a failed password input. Default is
    <code>'Incorrect Login Name/Password. Please try again (you have %s attempts remaining).'</code></p></dd>


  <dt><code>timemsg</code></dt>
<dd><p>A three part character vector indicating words for hour, minute, second &amp; and. Default is
    <code>c('hour ','minutes ','seconds ', 'and ')</code></p></dd>


  <dt><code>firstpage</code></dt>
<dd><p>The first page of the shiny GUI. Default prints the title
    and information message.</p>
<p></p><div class="sourceCode"><pre><code><span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h1</a></span><span class="op">(</span><span class="st">'Welcome to the mirtCAT interface'</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'The following interface was created using the mirtCAT package v</span></span>
<span><span class="st">              To cite the package use citation(\'mirtCAT\') in R.'</span>,</span>
<span>                 <span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"mirtCAT"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>         </span></code></pre></div>

<p>If an empty list is passed, this page will be skipped.</p></dd>


   <dt><code>begin_message</code></dt>
<dd><p>Text to display on the page prior to beginning the CAT. Default is
     <code>"Click the action button to begin."</code> for scored tests whereby a <code>mo</code> object has been include,
     while the default is <code>""</code> for non-scored tests (which disables the page).</p></dd>


  <dt><code>demographics</code></dt>
<dd><p>A person information page used in the GUI for collecting
    demographic information, generated using tools from the shiny package. For example,
    the following code asks the participants about their Gender:</p>
<p></p><div class="sourceCode"><pre><code><span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>                  label <span class="op">=</span> <span class="st">'Please select your gender.'</span>,</span>
<span>                  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">''</span>, <span class="st">'Male'</span>, <span class="st">'Female'</span>, <span class="st">'Other'</span><span class="op">)</span>,</span>
<span>                  selected <span class="op">=</span> <span class="st">''</span><span class="op">)</span><span class="op">)</span></span>
<span>        </span></code></pre></div>

<p>By default, the demographics page is not included.</p>
<p></p></dd>


  <dt><code>demographics_inputIDs</code></dt>
<dd><p>a character vector required if a custom demographics
    input is used. Default is <code>demographics_inputIDs = 'gender'</code>, corresponding to
    the <code>demographics</code> default</p></dd>


  <dt><code>stem_default_format</code></dt>
<dd><p><code>shiny</code> function used for the stems of the items. Default uses the
    <code><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></code> wrapper, allowing for HTML tags to be included directly in the character vector
    definitions. To change this to something different, like <code><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h5</a></code> for example,
    pass <code>stem_default_format = shiny::h5</code> to the <code>shinyGUI</code> list</p></dd>


  <dt><code>temp_file</code></dt>
<dd><p>a character vector indicating where a temporary .rds file
    containing the response information should be saved while the GUI is running.
    The object will be saved after each item is successfully completed. This is used to
    save response information to the hard drive in case there are power outages or
    unexpected computer restarts.</p>
<p>If <code>NULL</code>, no temp file will be created. Upon completion of the test, the
    temp file will be deleted. If a file already exists, however, then this will be used to
    resume the GUI at the last location where the session was interrupted</p></dd>


  <dt><code>lastpage</code></dt>
<dd><p>A function printing the last message, indicating that the test has been completed
    (i.e., criteria has been met). The function requires exactly one argument (called <code>person</code>), where
    the input argument is the person object that has been updated throughout the test. The default function is</p>
<p></p><div class="sourceCode"><pre><code><span><span class="kw">function</span><span class="op">(</span><span class="va">person</span><span class="op">)</span><span class="op">{</span></span>
<span>                    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h5</a></span><span class="op">(</span><span class="st">"You have successfully completed the interface.</span></span>
<span><span class="st">                                   It is now safe to leave the application."</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>                     <span class="op">}</span> </span></code></pre></div><p></p></dd>


   <dt><code>css</code></dt>
<dd><p>a character string defining CSS elements to modify the GUI presentation
     elements. The input string is passed to the argument <code>tags$style(HTML(shinyGUI$css))</code>
     prior to constructing the user interface</p></dd>


   <dt><code>theme</code></dt>
<dd><p>a character definition for the <code>shinytheme</code> package to globally change
     the GUI theme</p></dd>


   <dt><code>choiceNames</code></dt>
<dd><p>a list containing the <code>choiceNames</code> input for each respective item when
     the input is 'radio' or 'checkbox' (see <code><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html" class="external-link">radioButtons</a></code>), where each
     element is itself a list of instructions.</p>
<p>This is used to modify the output of the controllers using
     suitable HTML code. If a row in <code>df</code> should not have a customized names then supplying
     the value <code>NULL</code> in the associated list element will use the standard inputs instead.
     Alternatively, if specified the names of the elements to this list can be used to match the
     rownames of the <code>df</code> object to avoid the use of <code>NULL</code> placeholders</p></dd>


   <dt><code>choiceValues</code></dt>
<dd><p>associated values to be used along with <code>choiceNames</code> (see above)</p></dd>


   <dt><code>time_before_answer</code></dt>
<dd><p>a numeric value representing the number of seconds that must have elapsed
     when <code>df$Forced = FALSE</code> before a response can be provided or skipped. This is used
     to control accidental skips over items when responses are not forced. Default is 1, indicating
     one full second</p></dd>


   <dt><code>password</code></dt>
<dd><p>a <code>data.frame</code> object indicating the user name (optional) and password
     required prior to beginning the CAT. Possible options are</p><dl><dt>No User Information</dt>
<dd><p>a single row <code>data.frame</code>. Each column supplied in this case will be associated
         with a suitable password for all individuals. Naturally, if only 1 column is defined then
         there is only 1 global password for all users</p></dd>

       <dt>User Information Pairing</dt>
<dd><p>a multi-row <code>data.frame</code> where the first column
         represents the user name and all other columns as the same as the first option.
         E.g., if two users ('name1' and 'name2')
         are given the same password '1234' then
         <code>password = data.frame(User = c('user1', 'user2'), Password = rep('1234', 2))</code></p></dd>


</dl><p></p></dd>



   <dt><code>response_msg</code></dt>
<dd><p>string to print when valid responses are required but the users does not provide
     a valid input. Default is <code>"Please provide a suitable response"</code></p></dd>


   <dt><code>ui</code></dt>
<dd><p>a shiny UI function used to define the interface. If <code>NULL</code>, the
     default one will be used. See <code>mirtCAT:::default_UI</code> for the internal code definition</p></dd>



</dl></dd>


<dt id="arg-precat">preCAT<a class="anchor" aria-label="anchor" href="#arg-precat"></a></dt>
<dd><p>a list object which can be used to specify a pre-CAT block in which
  different test properties may be applied prior to beginning the CAT session. If the
  list is empty, no preCAT block will be used. All of the following elements are required
  to use the <code>preCAT</code> input:</p>
<p></p><dl><dt><code>min_items</code></dt>
<dd><p>minimum number of items to administer before the CAT session begins.
      Default is 0</p></dd>


    <dt><code>max_items</code></dt>
<dd><p>max number of items to administer before the CAT session begins.
      An input greater than 0 is required to run the preCAT stage</p></dd>


    <dt><code>criteria</code></dt>
<dd><p>selection criteria (see above). Default is 'random'</p></dd>


    <dt><code>method</code></dt>
<dd><p>estimation criteria (see above). It is generally recommended to
      select a method which can deal with all-or-none response patterns, such as 'EAP',
      'MAP', or 'WLE'. Default is 'MAP'</p></dd>


    <dt><code>response_variance</code></dt>
<dd><p>logical; terminate the preCAT stage when there is variability in the
      response pattern (i.e., when maximum-likelihood estimation contains a potential optimum)?
      Default is FALSE</p></dd>


</dl></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments to be passed to <code><a href="https://rdrr.io/pkg/mirt/man/mirt.html" class="external-link">mirt</a></code>, <code><a href="https://rdrr.io/pkg/mirt/man/fscores.html" class="external-link">fscores</a></code>,
<code><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></code>, or <code><a href="https://rdrr.io/pkg/lattice/man/Lattice.html" class="external-link">lattice</a></code></p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>object of class <code>'mirtCAT'</code></p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>object of class <code>'mirtCAT'</code></p></dd>


<dt id="arg-sort">sort<a class="anchor" aria-label="anchor" href="#arg-sort"></a></dt>
<dd><p>logical; sort the response patterns based on the order they
were administered? If FALSE, the raw response patterns containing NAs will be returned
for items that were not administered</p></dd>


<dt id="arg-pick-theta">pick_theta<a class="anchor" aria-label="anchor" href="#arg-pick-theta"></a></dt>
<dd><p>a number indicating which theta to plot (only applicable for multidimensional
tests). The default is to facet each theta on one plot, but to plot only the first factor pass
<code>pick_theta = 1</code></p></dd>


<dt id="arg-true-thetas">true_thetas<a class="anchor" aria-label="anchor" href="#arg-true-thetas"></a></dt>
<dd><p>logical; include a horizontal line indicating where the population-level
theta values are? Only applicable to Monte Carlo simulations because this value would not
be known otherwise</p></dd>


<dt id="arg-se">SE<a class="anchor" aria-label="anchor" href="#arg-se"></a></dt>
<dd><p>size of the standard errors to plot. The default is 1, and therefore plots the
standard error. To obtain the 95% interval use <code>SE = 1.96</code> (from the z-distribution)</p></dd>


<dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>title of the plot. Will default to <code>'CAT Standard Errors'</code> or
<code>'CAT ##% Confidence Intervals'</code> depending on the SE input</p></dd>


<dt id="arg-par-strip-text">par.strip.text<a class="anchor" aria-label="anchor" href="#arg-par-strip-text"></a></dt>
<dd><p>plotting argument passed to <code><a href="https://rdrr.io/pkg/lattice/man/Lattice.html" class="external-link">lattice</a></code></p></dd>


<dt id="arg-par-settings">par.settings<a class="anchor" aria-label="anchor" href="#arg-par-settings"></a></dt>
<dd><p>plotting argument passed to <code><a href="https://rdrr.io/pkg/lattice/man/Lattice.html" class="external-link">lattice</a></code></p></dd>


<dt id="arg-scales">scales<a class="anchor" aria-label="anchor" href="#arg-scales"></a></dt>
<dd><p>plotting argument passed to <code><a href="https://rdrr.io/pkg/lattice/man/Lattice.html" class="external-link">lattice</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a list object of class <code>'Person'</code> containing the following elements:</p>
<dl><dt><code>raw_responses</code></dt>
<dd><p>A character vector indicating the raws responses to the respective
    items, where NA indicates the item was not answered</p></dd>


  <dt><code>scored_responses</code></dt>
<dd><p>An integer vector of scored responses if the <code>item_answers</code> input
    was used for each respective item</p></dd>


  <dt><code>items_answered</code></dt>
<dd><p>An integer vector indicating the order in which the items were
    answered</p></dd>


  <dt><code>thetas</code></dt>
<dd><p>A numeric vector indicating the final theta estimates</p></dd>


  <dt><code>SE_thetas</code></dt>
<dd><p>A numeric vector indicating the standard errors of the
    final theta estimates</p></dd>


  <dt><code>thetas_history</code></dt>
<dd><p>A matrix indicating the progression of updating the theta values
    during the test</p></dd>


  <dt><code>thetas_SE_history</code></dt>
<dd><p>A matrix indicating the standard errors for theta after each
    successive item was answered</p></dd>


  <dt><code>item_time</code></dt>
<dd><p>A numeric vector indicating how long the respondent took to answer
    each question (in seconds)</p></dd>


  <dt><code>demographics</code></dt>
<dd><p>A data.frame object containing the information collected on the
    first page of the shiny GUI. This is used to store the demographic information for each
    participant</p></dd>


  <dt><code>classification</code></dt>
<dd><p>A character vector indicating whether the traits could be
    classified as 'above' or 'below' the desired cutoffs</p></dd>



</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>All tests will stop once the <code>'min_SEM'</code> criteria has been reached or classification
above or below the specified cutoffs can be made. If all questions should
be answered, users should specify an extremely small <code>'min_SEM'</code> or, equivalently,
a large <code>'min_items'</code> criteria to the <code>design</code> list input.</p>
    </div>
    <div class="section level2">
    <h2 id="html-help-files-exercises-and-examples">HTML help files, exercises, and examples<a class="anchor" aria-label="anchor" href="#html-help-files-exercises-and-examples"></a></h2>



<p>To access examples, vignettes, and exercise files that have been generated with <code>knitr</code> please
visit <a href="https://github.com/philchalmers/mirtCAT/wiki" class="external-link">https://github.com/philchalmers/mirtCAT/wiki</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="modifying-the-design-object-directly-through-customnextitem-advanced-">Modifying the <code>design</code> object directly through <code>customNextItem()</code> (advanced)<a class="anchor" aria-label="anchor" href="#modifying-the-design-object-directly-through-customnextitem-advanced-"></a></h2>



<p>In addition to providing a completely defined item-selection map via the <code>customNextItem()</code> function,
users may also wish to control some of the more fine-grained elements of the <code>design</code> object to adjust
the general control parameters of the CAT (e.g., modifying the maximum number of items to administer, stopping
the CAT if something peculiar has been detected in the response patterns, etc). Note that
this feature is rarely required for most applications, though more advanced users may wish to
modify these various low-level elements of the <code>design</code> object directly to change the flow of the CAT
to suit their specific needs.</p>
<p>While the <code>person</code> object is defined as a <code>Reference Class</code> (see <code>setRefClass</code>)
the design object is generally considered a fixed S4 class, meaning that, unlike the <code>person</code> object,
it's elements are not mutable. Therefore, in order to make changes directly to the
<code>design</code> object the users should follow these steps:</p>
<ol><li><p>Within the defined <code>customNextItem</code> function, the <code>design</code> object slots are first modified (e.g.,
    <code>design@max_items &lt;- 20L</code>).</p></li>
<li><p>Along with the desired next item scalar value from <code>customNextItem()</code>, the scalar object should also
    contain an attribute with the name <code>'design'</code> which holds the newly defined <code>design</code> object
    (e.g., <code>attr(ret, 'design') &lt;- design; return(ret)</code>).</p></li>
</ol><p>Following the above process the work-flow in <code>mirtCAT</code> will use the new <code>design</code> object in place of the
old one, even in Monte Carlo simulations.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
<a href="https://doi.org/10.18637/jss.v048.i06" class="external-link">doi:10.18637/jss.v048.i06</a></p>
<p>Chalmers, R. P. (2016). Generating Adaptive and Non-Adaptive Test Interfaces for
Multidimensional Item Response Theory Applications. <em>Journal of Statistical Software, 71</em>(5),
1-39. <a href="https://doi.org/10.18637/jss.v071.i05" class="external-link">doi:10.18637/jss.v071.i05</a></p>
<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
<a href="https://doi.org/10.18637/jss.v048.i06" class="external-link">doi:10.18637/jss.v048.i06</a></p>
<p>Chalmers, R. P. (2016). Generating Adaptive and Non-Adaptive Test Interfaces for
Multidimensional Item Response Theory Applications. <em>Journal of Statistical Software, 71</em>(5),
1-39. <a href="https://doi.org/10.18637/jss.v071.i05" class="external-link">doi:10.18637/jss.v071.i05</a></p>
<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
<a href="https://doi.org/10.18637/jss.v048.i06" class="external-link">doi:10.18637/jss.v048.i06</a></p>
<p>Chalmers, R. P. (2016). Generating Adaptive and Non-Adaptive Test Interfaces for
Multidimensional Item Response Theory Applications. <em>Journal of Statistical Software, 71</em>(5),
1-39. <a href="https://doi.org/10.18637/jss.v071.i05" class="external-link">doi:10.18637/jss.v071.i05</a></p>
<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
<a href="https://doi.org/10.18637/jss.v048.i06" class="external-link">doi:10.18637/jss.v048.i06</a></p>
<p>Chalmers, R. P. (2016). Generating Adaptive and Non-Adaptive Test Interfaces for
Multidimensional Item Response Theory Applications. <em>Journal of Statistical Software, 71</em>(5),
1-39. <a href="https://doi.org/10.18637/jss.v071.i05" class="external-link">doi:10.18637/jss.v071.i05</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="generate_pattern.html">generate_pattern</a></code>, <code><a href="generate.mirt_object.html">generate.mirt_object</a></code>,
  <code><a href="extract.mirtCAT.html">extract.mirtCAT</a></code>, <code><a href="findNextItem.html">findNextItem</a></code>, <code><a href="computeCriteria.html">computeCriteria</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### unidimensional scored example with generated items</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create mo from estimated parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nitems</span> <span class="op">&lt;-</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="va">itemnames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'Item.'</span>, <span class="fl">1</span><span class="op">:</span><span class="va">nitems</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span><span class="va">nitems</span>, <span class="fl">.2</span>, <span class="fl">.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">nitems</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mirt/man/simdata.html" class="external-link">simdata</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">d</span>, <span class="fl">1000</span>, itemtype <span class="op">=</span> <span class="st">'dich'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mirt/man/mirt.html" class="external-link">mirt</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">mod</span>, simplify<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># alternatively, define mo from population values (not run)</span></span></span>
<span class="r-in"><span><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a1<span class="op">=</span><span class="va">a</span>, d<span class="op">=</span><span class="va">d</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate.mirt_object.html">generate.mirt_object</a></span><span class="op">(</span><span class="va">pars</span>, itemtype<span class="op">=</span><span class="st">'2PL'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">mod2</span>, simplify<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simple math items</span></span></span>
<span class="r-in"><span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="va">answers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="va">nitems</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">choices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="va">nitems</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">spacing</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">d</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span> <span class="co">#easier items have more variation in the options</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">nitems</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">n1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">n2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">51</span><span class="op">:</span><span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">ans</span> <span class="op">&lt;-</span> <span class="va">n1</span> <span class="op">+</span> <span class="va">n2</span></span></span>
<span class="r-in"><span>    <span class="va">questions</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">n1</span>, <span class="st">' + '</span>, <span class="va">n2</span>, <span class="st">' = ?'</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">answers</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ans</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">ch</span> <span class="op">&lt;-</span> <span class="va">ans</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span><span class="op">:</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">*</span> <span class="va">spacing</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">ch</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">ans</span></span></span>
<span class="r-in"><span>    <span class="va">choices</span><span class="op">[</span><span class="va">i</span>, <span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ch</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Question<span class="op">=</span><span class="va">questions</span>, Option<span class="op">=</span><span class="va">choices</span>, </span></span>
<span class="r-in"><span>                              Type <span class="op">=</span> <span class="st">'radio'</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span> <span class="co">#collect response only (no scoring or estimating thetas)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># include scoring by providing Answer key</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">Answer</span> <span class="op">&lt;-</span> <span class="va">answers</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res_seq</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span>, <span class="va">mod</span><span class="op">)</span><span class="op">)</span> <span class="co">#sequential scoring </span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res_random</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span>, <span class="va">mod</span>, criteria <span class="op">=</span> <span class="st">'random'</span><span class="op">)</span><span class="op">)</span> <span class="co">#random</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res_MI</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span>, <span class="va">mod</span>, criteria <span class="op">=</span> <span class="st">'MI'</span>, start_item <span class="op">=</span> <span class="st">'MI'</span><span class="op">)</span><span class="op">)</span> <span class="co">#adaptive, MI starting item</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_seq</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_random</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_MI</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># HTML tags for better customization, coerced to characters for compatibility</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># help(tags, package='shiny')</span></span></span>
<span class="r-in"><span><span class="va">options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Strongly Disagree"</span>, <span class="st">"Disagree"</span>, <span class="st">"Neutral"</span>, <span class="st">"Agree"</span>, <span class="st">"Strongly Agree"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  nrow <span class="op">=</span> <span class="fl">3</span>, ncol <span class="op">=</span> <span class="fl">5</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">shinyStems</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></span><span class="op">(</span><span class="st">'Building CATs with mirtCAT is difficult.'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></span><span class="op">(</span><span class="st">'mirtCAT requires a'</span><span class="op">)</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">br</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></span><span class="op">(</span><span class="st">'substantial amount of coding.'</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">strong</a></span><span class="op">(</span><span class="st">'I would use'</span><span class="op">)</span>, <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></span><span class="op">(</span><span class="st">'mirtCAT in my research.'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">shinyStems</span>, <span class="va">as.character</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Question<span class="op">=</span><span class="va">questions</span>,</span></span>
<span class="r-in"><span>                 Option <span class="op">=</span> <span class="va">options</span>, </span></span>
<span class="r-in"><span>                 Type <span class="op">=</span> <span class="st">"radio"</span>,</span></span>
<span class="r-in"><span>                 stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run locally, random response pattern given Theta</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_pattern.html">generate_pattern</a></span><span class="op">(</span><span class="va">mod</span>, Theta <span class="op">=</span> <span class="fl">0</span>, df<span class="op">=</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># seq scoring with character pattern for the entire test (adjust min_items)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span>, <span class="va">mod</span>, local_pattern<span class="op">=</span><span class="va">pat</span>, design <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>min_items <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same as above, but using special input vector that doesn't require df input</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate_pattern.html">generate_pattern</a></span><span class="op">(</span><span class="va">mod</span>, Theta <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pat2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">mirtCAT</span><span class="op">(</span>mo<span class="op">=</span><span class="va">mod</span>, local_pattern<span class="op">=</span><span class="va">pat2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run CAT, and save results to object called person (start at 10th item)</span></span></span>
<span class="r-in"><span><span class="va">person</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span>, <span class="va">mod</span>, item_answers <span class="op">=</span> <span class="va">answers</span>, criteria <span class="op">=</span> <span class="st">'MI'</span>, </span></span>
<span class="r-in"><span>                  start_item <span class="op">=</span> <span class="fl">10</span>, local_pattern <span class="op">=</span> <span class="va">pat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">person</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">person</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot the session</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">person</span><span class="op">)</span> <span class="co">#standard errors</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">person</span>, SE<span class="op">=</span><span class="fl">1.96</span><span class="op">)</span> <span class="co">#95 percent confidence intervals</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### save response object to temp directory in case session ends early</span></span></span>
<span class="r-in"><span><span class="va">wdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">'/temp_file.rds'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span>, <span class="va">mod</span>, shinyGUI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>temp_file <span class="op">=</span> <span class="va">wdf</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># resume test this way if test was stopped early (and temp files were saved)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">mirtCAT</span><span class="op">(</span><span class="va">df</span>, <span class="va">mod</span>, shinyGUI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>temp_file <span class="op">=</span> <span class="va">wdf</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Phil Chalmers.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

